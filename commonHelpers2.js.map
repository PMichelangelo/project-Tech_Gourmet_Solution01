{"version":3,"file":"commonHelpers2.js","sources":["../src/js/createMarkup.js","../src/js/createMarkupMoreProducts.js","../src/js/storage.js","../src/js/pagination.js","../src/js/filters.js","../src/js/scroll-up-btn.js","../src/js/main.js"],"sourcesContent":["import { openModal } from './modal';\nimport { addToCart, updateCardState, removeFromCart } from './cartStorage';\nimport { updateCartCounterOnLoad } from './updateCartCounter';\nimport icons from '../img/icons.svg';\n\nconst productCard = document.querySelector('.product-list');\n\nasync function createProductsMarkup() {\n\n  try {\n    productCard.addEventListener('click', event => {\n      const card = event.target.closest('.js-card');\n      const btn = event.target.closest('.js-btn');\n\n      if (card) {\n        const productId = card.getAttribute('data-id');\n\n        if (btn) {\n          toggleBtn(productId);\n          updateCardState(productId);\n          updateCartCounterOnLoad();\n          checkIsItemInCart();\n        } else {\n          openModal(productId);\n        }\n      }\n    });\n  } catch (error) {\n    console.error(error);\n  }\n\n}\n\nfunction toggleBtn(productId) {\n  const storage = JSON.parse(localStorage.getItem('cartData'));\n  const cardStorage = Array.from(storage);\n\n  if (cardStorage.includes(productId)) {\n    removeFromCart(productId);\n  } else {\n    addToCart(productId);\n  }\n}\n\nasync function checkIsItemInCart() {\n  const cartItems = JSON.parse(localStorage.getItem('cartData'));\n  const itemsOnPage = document.querySelectorAll('.js-card');\n  const itemsArr = Array.from(itemsOnPage);\n\n  itemsArr.forEach(item => {\n    const itemId = item.dataset.id;\n    cartItems.forEach(id => {\n      if (itemId === id) {\n        const matchedItem = document.querySelector(`.js-btn[data-id='${id}']`);\n        matchedItem.classList.add('added');\n      }\n    });\n  });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ img, _id, name, price, size, category, popularity }) => `\n        <li class=\"product-item js-card\" data-id=\"${_id}\">\n          <div class=\"container-card\">\n            <div class=\"container-img\">\n              <img class=\"item-img\" src=\"${img}\" alt=\"${name}\" loading=\"lazy\" />\n            </div>\n            <h3 class=\"item-name\">${name}</h3>\n            <div class=\"container-info\">\n              <p class=\"item-info\">Category: <span class=\"span-info\">${category\n                .replace('_', ' ')\n                .replace('_', ' ')}</span></p>\n              <p class=\"item-info\">Size: <span class=\"span-info\">${size.replace(\n                'oz',\n                'g'\n              )}</span></p>\n              <p class=\"item-info popular-item-info \">Popularity: <span class=\"span-info\">${popularity}</span></p>\n            </div>\n            <div class=\"container-price\">\n              <p class=\"item-price\">$${price}</p>\n              <button type=\"button\" class=\"btn-item js-btn\" data-id=\"${_id}\" title='Add item' aria-label=\"Add item\">\n                <svg class=\"product-button-icon icon-cart\" width=\"18\" height=\"18\">\n                  <use href=\"${icons}#icon-shoping-cart\"></use>\n                </svg>\n                <svg class=\"product-button-icon icon-mark\" width=\"18\" height=\"18\">\n                  <use href=\"${icons}#icon-check\"></use>\n                </svg>\n              </button>\n            </div>\n          </div>\n        </li>`\n    )\n    .join('');\n}\n\nexport { createProductsMarkup, createMarkup, checkIsItemInCart, toggleBtn };\n","import {getServerProductsPopular,getServerProductsDiscount} from './fetchProducts';\nimport icons from '../img/icons.svg';\nimport { openModal } from './modal';\nimport { updateCartCounterOnLoad } from './updateCartCounter';\nimport { checkIsItemInCart, toggleBtn } from './createMarkup';\nimport { updateCardState } from './cartStorage';\nconst refs = {\n  popularProductCards: document.querySelector('.js-popular-product-cards'),\n  discountProductCards: document.querySelector('.js-discount-product-cards'),\n};\n\n/*Popular Products fnct*/\n\nasync function appendPopularProductsMarkup() {\n  try {\n    const data = await getServerProductsPopular();\n    refs.popularProductCards.insertAdjacentHTML(\n      'beforeend',\n      createPopularMarkup(data.results)\n    );\n    checkIsItemInCart();\n\n    refs.popularProductCards.addEventListener('click', event => {\n      const card = event.target.closest('.aside-product-card');\n      const btn = event.target.closest('.products-card-btn');\n      if (card) {\n        const productId = card.getAttribute('id');\n\n        if (btn) {\n          toggleBtn(productId);\n          updateCardState(productId);\n          updateCartCounterOnLoad();\n          checkIsItemInCart();\n        } else {\n          openModal(productId);\n        }\n      }\n    });\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction createPopularMarkup(results) {\n  const limitedResults = results.slice(0, 5);\n\n  return limitedResults\n    .map(\n      ({ _id, img, name, category, size, popularity }) =>\n        `<div class=\"container-for-popular-items js-card\" data-id=\"${_id}\" id=\"${_id}\">\n          <div class=\"aside-product-card\" id=\"${_id}\">\n                  <div class=\"aside-card-img\">\n                      <img class=\"aside-img\"\n                      width=\"56\" height=\"56\"\n                          src=\"${img}\"\n                          alt=\"${name}\" loading=\"lazy\">\n                  </div>\n                 <div class=\"container-for-name-descr\">\n                  <div class=\"card-product-name-container\">\n                  <h3 class=\"aside-card-name\">${name}</h3>\n                     </div>\n                  <div class=\"products-card-description\">\n                      <div class=\"aside-card-description\">\n                          <p class=\"descr-p\">Category:</p>\n                          <p class=\"card-descr-value\">${category\n                            .replace('_', ' ')\n                            .replace('_', ' ')}</p>\n                      </div>\n                      <div class=\"size-popularity-container\">\n                      <div class=\"aside-card-description\">\n                          <p class=\"descr-p\">Size:</p>\n                          <p class=\"card-descr-value\">${size}</p>\n                      </div>\n                      <div class=\"aside-card-description\">\n                          <p class=\"descr-p\">Popularity:</p>\n                          <p class=\"card-descr-value\">${popularity}</p>\n                      </div>\n                  </div>\n                  </div>\n                  </div>\n                  <div class=\"product-card-prices-btn\">\n                      <button type=\"button\" class=\"products-card-btn js-btn\" data-id=\"${_id}\" id=\"${_id}\"  title='Add item' aria-label=\"Add item\">\n                          <svg width=\"16\" height=\"16\" class=\"product-button-icon icon-cart\">\n                              <use class=\"popular-button-icon\" href=\"${icons}#icon-shop\"></use>\n                          </svg>\n                          <svg class=\"product-button-icon icon-mark\" width=\"12\" height=\"12\">\n                              <use href=\"${icons}#icon-check\"></use>\n                          </svg>\n                      </button>\n                  </div>\n              </div>\n              </div>`\n    )\n    .join('');\n}\n\n/*Discount Products fnct*/\n\nasync function appendDiscountProductsMarkup() {\n  try {\n    const data = await getServerProductsDiscount();\n    refs.discountProductCards.insertAdjacentHTML(\n      'beforeend',\n      createDiscountMarkup(data)\n    );\n    checkIsItemInCart();\n\n    refs.discountProductCards.addEventListener('click', event => {\n      const card = event.target.closest('.discount-product-card');\n      const btn = event.target.closest('.discount-product-card-btn');\n      if (card) {\n        const productId = card.getAttribute('id');\n\n        if (btn) {\n          toggleBtn(productId);\n          updateCardState(productId);\n          updateCartCounterOnLoad();\n          checkIsItemInCart();\n        } else {\n          openModal(productId);\n        }\n      }\n    });\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction createDiscountMarkup(results) {\n  const limitedResults = results.slice(0, 2);\n  return limitedResults\n    .map(\n      ({ _id, name, img, price }) =>\n        `<div class=\"container-for-discount-items js-card\" data-id=\"${_id}\" id=\"${_id}\">\n          <div class=\"discount-product-card\" id=\"${_id}\">\n                  <div class=\"discount-product-card-img\">\n                      <img class=\"discount-card-img\"\n                          src=\"${img}\"\n                          alt=\"${name}\" loading=\"lazy\">\n                          <span class=\"discount-svg\">\n                          <svg width=\"60\" height=\"60\" >\n                              <use  href=\"${icons}#icon-discount\"></use>\n                          </svg>\n                          </span>\n                  </div>\n                  <div class=\"product-card-prices-btn\">\n                  <h3 class=\"discount-product-card-name\">${name}</h3>\n                 <div class=\"discount-price-icon-container\">\n                      <p class=\"product-card-price\">$${price}</p>\n                      <button type=\"button\" class=\"discount-product-card-btn js-btn\" id=\"${_id}\" data-id=\"${_id}\">\n                          <svg width=\"18\" height=\"18\" class=\"product-button-icon icon-cart\">\n                              <use class=\"discount-button-icon\" href=\"${icons}#icon-cart\"></use>\n                          </svg>\n                          <svg class=\"product-button-icon icon-mark\" width=\"18\" height=\"18\">\n                              <use href=\"${icons}#icon-check\"></use>\n                          </svg>\n                      </button>\n                  </div>\n                  </div>\n              </div>\n              </div>`\n    )\n    .join('');\n}\n\nexport {appendDiscountProductsMarkup, appendPopularProductsMarkup }","const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nexport {\n  save,\n  load,\n};","const refs = {\n    productCard: document.querySelector(\".product-list\"),\n    pagination: document.querySelector(\".products-pagination\"),\n    paginationBtnList: document.querySelector(\".pagination-btn-list\"),\n    paginationBtnIncr: document.querySelector(\".pagination-btn-increment\"),\n    paginationBtnDecr: document.querySelector(\".pagination-btn-decrement\"),\n}\n\n\nimport { createMarkup } from \"./createMarkup.js\";\nimport { save, load } from \"./storage.js\";\nimport { getLimit, getServerProducts } from \"./fetchProducts.js\";\nimport { checkIsItemInCart } from \"./createMarkup.js\";\n\n\nfunction createMarkupEllipsisOnce(amountOfPages) {\n    return `<li class=\"pagination-btn-item\"><button type=\"button\" class=\"pag-btn-common pagination-btn\">1</button></li>\n    <li class=\"pagination-btn-item\"><button type=\"button\" class=\"pag-btn-common pagination-btn\">2</button></li>\n    <li class=\"ellipsis\">...</li>\n    <li class=\"pagination-btn-item\"><button type=\"button\" class=\"pag-btn-common pagination-btn\">${amountOfPages - 1}</button></li>\n    <li class=\"pagination-btn-item\"><button type=\"button\" class=\"pag-btn-common pagination-btn\">${amountOfPages}</button></li>`\n}\n\nfunction createMarkupEllipsisTwice(selectedPage, amountOfPages) {\n    return `<li class=\"pagination-btn-item\"><button type=\"button\" class=\"pag-btn-common pagination-btn\">1</button></li>\n    <li class=\"ellipsis\">...</li>\n    <li class=\"pagination-btn-item\"><button type=\"button\" class=\"pag-btn-common pagination-btn pag-middle-btn\">${selectedPage}</button></li>\n    <li class=\"ellipsis\">...</li>\n    <li class=\"pagination-btn-item\"><button type=\"button\" class=\"pag-btn-common pagination-btn\">${amountOfPages}</button></li>`\n}\n\nfunction one(paginationPages, e) {\n    e.currentTarget.disabled = true;\n    let currentPage;\n    document.querySelectorAll(\".pagination-btn\").forEach((btn) => {\n        if (btn.classList.contains(\"pagination-btn-active\")) {\n            currentPage = Number(btn.textContent);\n        }\n    })\n    let { keyword, category } = load(\"filtersOfProducts\");\n    let limit = getLimit();\n    getServerProducts((currentPage + 1), keyword, category, limit).then(({ results, totalPages, page, perPage }) => {\n        const markup = createMarkup(results);\n        refs.productCard.innerHTML = markup;\n        refs.pagination.classList.remove(\"filters-visually-hidden\");\n        checkIsItemInCart();\n        save(\"filtersOfProducts\", { keyword, category, page, limit });\n        document.querySelectorAll(\".pagination-btn\").forEach((btn) => {\n            if (btn.classList.contains(\"pagination-btn-active\")) {\n                btn.classList.remove(\"pagination-btn-active\");\n                btn.disabled = false;\n            }\n            if (Number(btn.textContent) === page) {\n                btn.classList.add(\"pagination-btn-active\");\n                btn.disabled = true;\n            }\n        })\n        if ((currentPage + 1) === paginationPages) {\n            refs.paginationBtnIncr.disabled = true;\n            refs.paginationBtnDecr.disabled = false;\n        } else {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = false;\n        }\n    })\n}\n\nfunction two(e) {\n    e.currentTarget.disabled = true;\n    let currentPage;\n    document.querySelectorAll(\".pagination-btn\").forEach((btn) => {\n        if (btn.classList.contains(\"pagination-btn-active\")) {\n            currentPage = Number(btn.textContent);\n        }\n    })\n    let { keyword, category } = load(\"filtersOfProducts\");\n    let limit = getLimit();\n    getServerProducts((currentPage - 1), keyword, category, limit).then(({ results, totalPages, page, perPage }) => {\n        const markup = createMarkup(results);\n        refs.productCard.innerHTML = markup;\n        checkIsItemInCart();\n        refs.pagination.classList.remove(\"filters-visually-hidden\");\n        save(\"filtersOfProducts\", { keyword, category, page, limit });\n        document.querySelectorAll(\".pagination-btn\").forEach((btn) => {\n            if (btn.classList.contains(\"pagination-btn-active\")) {\n                btn.classList.remove(\"pagination-btn-active\");\n                btn.disabled = false;\n            }\n            if (Number(btn.textContent) === page) {\n                btn.classList.add(\"pagination-btn-active\");\n                btn.disabled = true;\n            }\n        })\n        if ((currentPage - 1) === 1) {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = true;\n        } else {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = false;\n        }\n    })\n}\n\nfunction three(paginationPages, e) {\n    if (!e.target.classList.contains(\"pagination-btn\")) {\n        return\n    }\n    e.target.disabled = true;\n    const btnNumber = Number(e.target.textContent);\n    let { keyword, category } = load(\"filtersOfProducts\");\n    let limit = getLimit();\n    getServerProducts(btnNumber, keyword, category, limit).then(({ results, totalPages, page, perPage }) => {\n        const markup = createMarkup(results);\n        refs.productCard.innerHTML = markup;\n        checkIsItemInCart();\n        save(\"filtersOfProducts\", { keyword, category, page, limit });\n        document.querySelectorAll(\".pagination-btn\").forEach((btn) => {\n            if (btn.classList.contains(\"pagination-btn-active\")) {\n                btn.classList.remove(\"pagination-btn-active\");\n                btn.disabled = false;\n            }\n            if (Number(btn.textContent) === page) {\n                btn.classList.add(\"pagination-btn-active\");\n                btn.disabled = true;\n            }\n        })\n        if (btnNumber === 1) {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = true;\n        } else if (btnNumber === paginationPages) {\n            refs.paginationBtnIncr.disabled = true;\n            refs.paginationBtnDecr.disabled = false;\n        } else {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = false;\n        }\n    })\n}\n\nfunction four(paginationPages, e) {\n    e.currentTarget.disabled = true;\n    let currentPage;\n    document.querySelectorAll(\".pagination-btn\").forEach((btn) => {\n        if (btn.classList.contains(\"pagination-btn-active\")) {\n            currentPage = Number(btn.textContent);\n        }\n    })\n    let { keyword, category } = load(\"filtersOfProducts\");\n    let limit = getLimit();\n    getServerProducts((currentPage + 1), keyword, category, limit).then(({ results, totalPages, page, perPage }) => {\n        const markup = createMarkup(results);\n        refs.productCard.innerHTML = markup;\n        checkIsItemInCart();\n        refs.pagination.classList.remove(\"filters-visually-hidden\");\n        save(\"filtersOfProducts\", { keyword, category, page, limit });\n        if (page === 3) {\n            refs.paginationBtnList.innerHTML = createMarkupEllipsisTwice(page, paginationPages);\n        } else if ((page - 1) === (paginationPages - 2)) {\n            refs.paginationBtnList.innerHTML = createMarkupEllipsisOnce(paginationPages);\n        } else if (((page - 1) < (paginationPages - 1)) && document.querySelector(\".pag-middle-btn\")) {\n            document.querySelector(\".pag-middle-btn\").textContent = Number(document.querySelector(\".pag-middle-btn\").textContent) + 1;\n        }\n        document.querySelectorAll(\".pagination-btn\").forEach((btn) => {\n            if (btn.classList.contains(\"pagination-btn-active\")) {\n                btn.classList.remove(\"pagination-btn-active\");\n                btn.disabled = false;\n            }\n            if (Number(btn.textContent) === page) {\n                btn.classList.add(\"pagination-btn-active\");\n                btn.disabled = true;\n            }\n        })\n        if ((currentPage + 1) === paginationPages) {\n            refs.paginationBtnIncr.disabled = true;\n            refs.paginationBtnDecr.disabled = false;\n        } else {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = false;\n        }\n    })\n}\n\nfunction five(paginationPages, e) {\n    e.currentTarget.disabled = true;\n    let currentPage;\n    document.querySelectorAll(\".pagination-btn\").forEach((btn) => {\n        if (btn.classList.contains(\"pagination-btn-active\")) {\n            currentPage = Number(btn.textContent);\n        }\n    })\n    let { keyword, category } = load(\"filtersOfProducts\");\n    let limit = getLimit();\n    getServerProducts((currentPage - 1), keyword, category, limit).then(({ results, totalPages, page, perPage }) => {\n        const markup = createMarkup(results);\n        refs.productCard.innerHTML = markup;\n        checkIsItemInCart();\n        refs.pagination.classList.remove(\"filters-visually-hidden\");\n        save(\"filtersOfProducts\", { keyword, category, page, limit });\n        if (page === (paginationPages - 2)) {\n            refs.paginationBtnList.innerHTML = createMarkupEllipsisTwice(page, paginationPages);\n        } else if (page === 2) {\n            refs.paginationBtnList.innerHTML = createMarkupEllipsisOnce(paginationPages);\n        } else if (page > 2 && document.querySelector(\".pag-middle-btn\")) {\n            document.querySelector(\".pag-middle-btn\").textContent = Number(document.querySelector(\".pag-middle-btn\").textContent) - 1;\n        }\n        document.querySelectorAll(\".pagination-btn\").forEach((btn) => {\n            if (btn.classList.contains(\"pagination-btn-active\")) {\n                btn.classList.remove(\"pagination-btn-active\");\n                btn.disabled = false;\n            }\n            if (Number(btn.textContent) === page) {\n                btn.classList.add(\"pagination-btn-active\");\n                btn.disabled = true;\n            }\n        })\n        if ((currentPage - 1) === 1) {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = true;\n        } else {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = false;\n        }\n    })\n}\n\nfunction six(paginationPages, e) {\n    if (!e.target.classList.contains(\"pagination-btn\")) {\n        return\n    }\n    e.target.disabled = true;\n    const btnNumber = Number(e.target.textContent);\n    let { keyword, category } = load(\"filtersOfProducts\");\n    let limit = getLimit();\n    getServerProducts(btnNumber, keyword, category, limit).then(({ results, totalPages, page, perPage }) => {\n        const markup = createMarkup(results);\n        refs.productCard.innerHTML = markup;\n        checkIsItemInCart();\n        save(\"filtersOfProducts\", { keyword, category, page, limit });\n        if ((page === paginationPages || page === 1) && document.querySelector(\".pag-middle-btn\")) {\n            refs.paginationBtnList.innerHTML = createMarkupEllipsisOnce(paginationPages);\n        }\n        document.querySelectorAll(\".pagination-btn\").forEach((btn) => {\n            if (btn.classList.contains(\"pagination-btn-active\")) {\n                btn.classList.remove(\"pagination-btn-active\");\n                btn.disabled = false;\n            }\n            if (Number(btn.textContent) === page) {\n                btn.classList.add(\"pagination-btn-active\");\n                btn.disabled = true;\n            }\n        })\n        if (btnNumber === 1) {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = true;\n        } else if (btnNumber === paginationPages) {\n            refs.paginationBtnIncr.disabled = true;\n            refs.paginationBtnDecr.disabled = false;\n        } else {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = false;\n        }\n    })\n}\n\nlet paginationPages;\n\nlet boundOne = one.bind(null, paginationPages);\nlet boundTwo = two.bind(null);\nlet boundThree = three.bind(null, paginationPages);\n\nlet boundFour = four.bind(null, paginationPages);\nlet boundFive = five.bind(null, paginationPages);\nlet boundSix = six.bind(null, paginationPages);\n\nfunction createPagination(totalPages, page, perPage) {\n    refs.paginationBtnIncr.removeEventListener(\"click\", boundOne);\n    refs.paginationBtnDecr.removeEventListener(\"click\", boundTwo);\n    refs.paginationBtnList.removeEventListener(\"click\", boundThree);\n\n    refs.paginationBtnIncr.removeEventListener(\"click\", boundFour);\n    refs.paginationBtnDecr.removeEventListener(\"click\", boundFive);\n    refs.paginationBtnList.removeEventListener(\"click\", boundSix);\n\n    paginationPages = Math.ceil(totalPages / perPage);\n\n    boundOne = one.bind(null, paginationPages);\n    boundTwo = two.bind(null);\n    boundThree = three.bind(null, paginationPages);\n\n    boundFour = four.bind(null, paginationPages);\n    boundFive = five.bind(null, paginationPages);\n    boundSix = six.bind(null, paginationPages);\n\n\n    if (paginationPages === 1) {\n        refs.pagination.classList.add(\"filters-visually-hidden\");\n        return\n    }\n\n    if (paginationPages <= 4) {\n        let paginationMarkup = ``;\n        if (page === 1) {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = true;\n        } else if (page === paginationPages) {\n            refs.paginationBtnIncr.disabled = true;\n            refs.paginationBtnDecr.disabled = false;\n        } else {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = false;\n        }\n        for (let i = 1; i <= paginationPages; i += 1) {\n            paginationMarkup += `<li class=\"pagination-btn-item\"><button type=\"button\" class=\"pag-btn-common pagination-btn\">${i}</button></li>`\n        }\n        refs.paginationBtnList.innerHTML = paginationMarkup;\n        document.querySelectorAll(\".pagination-btn\").forEach(btn => {\n            if (Number(btn.textContent) === page) {\n                btn.classList.add(\"pagination-btn-active\");\n                btn.disabled = true;\n            }\n        })\n        refs.pagination.classList.remove(\"filters-visually-hidden\");\n\n        refs.paginationBtnIncr.addEventListener(\"click\", boundOne);\n        refs.paginationBtnDecr.addEventListener(\"click\", boundTwo);\n        refs.paginationBtnList.addEventListener(\"click\", boundThree);\n\n        return\n    }\n\n    if (paginationPages > 4) {\n        if (page === 1) {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = true;\n        } else if (page === paginationPages) {\n            refs.paginationBtnIncr.disabled = true;\n            refs.paginationBtnDecr.disabled = false;\n        } else {\n            refs.paginationBtnIncr.disabled = false;\n            refs.paginationBtnDecr.disabled = false;\n        }\n\n        if (page === 1 || page === 2 || page === (paginationPages - 1) || page === paginationPages) {\n            refs.paginationBtnList.innerHTML = createMarkupEllipsisOnce(paginationPages);\n        } else {\n            refs.paginationBtnList.innerHTML = createMarkupEllipsisTwice(page, paginationPages);\n        }\n\n        document.querySelectorAll(\".pagination-btn\").forEach(btn => {\n            if (Number(btn.textContent) === page) {\n                btn.classList.add(\"pagination-btn-active\");\n                btn.disabled = true;\n            }\n        })\n        refs.pagination.classList.remove(\"filters-visually-hidden\");\n\n        refs.paginationBtnIncr.addEventListener(\"click\", boundFour);\n        refs.paginationBtnDecr.addEventListener(\"click\", boundFive);\n        refs.paginationBtnList.addEventListener(\"click\", boundSix);\n    }\n}\n\nexport { createPagination };","import {getServerProductsCategories, getServerProducts, getLimit} from \"./fetchProducts.js\";\nimport { createMarkup, checkIsItemInCart } from \"./createMarkup.js\";\nimport { save, load } from \"./storage.js\";\nimport { createPagination } from \"./pagination.js\"\n\n\nconst refs = {\n    form: document.querySelector(\".filters-form\"),\n    input: document.querySelector(\".filters-input\"),\n    submitBtn: document.querySelector(\".filters-btn\"),\n    selectBtn: document.querySelector(\".filters-select\"),\n    selectDropdown: document.querySelector(\".filters-options\"),\n    selectedCategory: document.querySelector(\".filters-select-input\"),\n    productCard: document.querySelector(\".product-list\"),\n    pagination: document.querySelector(\".products-pagination\"),\n}\n\n\n\nasync function filterCategories () {\n    await getServerProductsCategories().then(data => {\n        const strCategories = data.map(el => {\n            let newEl = el.replace(/_/g, \" \");\n            if (newEl === \"Breads & Bakery\") {\n                newEl = newEl.replace(/&/g, \"/\")\n            }\n            return `<li class=\"filters-options-item\"><button type=\"submit\" class=\"filters-option\" data-value=\"${el}\">${newEl}</button></li>`\n        }).join(\"\");\n        const str = strCategories + `<li class=\"filters-options-item\"><button type=\"submit\" class=\"filters-option\" data-value=\"null\">Show all</button></li>`\n        refs.selectDropdown.insertAdjacentHTML(\"beforeend\", str);\n\n        refs.selectBtn.addEventListener(\"click\", e => {\n            e.stopPropagation();\n            refs.selectDropdown.classList.toggle(\"filters-visually-hidden\");\n        })\n\n        refs.selectDropdown.addEventListener(\"click\", e => {\n            const categoryForUser = e.target.textContent;\n            const categoryForUs = e.target.dataset.value;\n            refs.selectBtn.textContent = categoryForUser;\n            refs.selectedCategory.value = categoryForUs;\n        })\n\n        document.addEventListener(\"click\", e => refs.selectDropdown.classList.add(\"filters-visually-hidden\"))\n    })\n}\n\nfunction filterProducts() {\n    refs.productCard.classList.remove(\"product-list-not-found\");\n    if (load(\"filtersOfProducts\") === undefined) {\n        save(\"filtersOfProducts\", { keyword: null, category: null, page: 1, limit: 6 });\n    }\n    let { keyword, category, page } = load(\"filtersOfProducts\");\n    let limit = getLimit();\n    getServerProducts(page, keyword, category, limit).then(({ results, totalPages, page, perPage }) => {\n        const maxPage = Math.ceil(totalPages / perPage);\n        if (maxPage < page) {\n            getServerProducts(maxPage, keyword, category, limit).then(({ results, totalPages, page, perPage }) => {\n                refs.productCard.innerHTML = createMarkup(results);\n                createPagination(totalPages, page, perPage);\n                checkIsItemInCart();\n              showContent();\n            })\n        } else {\n            refs.productCard.innerHTML = createMarkup(results);\n            createPagination(totalPages, page, perPage);\n            checkIsItemInCart();\n          showContent();\n        }\n    })\n\n    refs.form.addEventListener(\"submit\", onSubmit);\n}\n\nfunction onSubmit (event) {\n    event.preventDefault();\n    refs.submitBtn.disabled = true;\n\n    const limit = getLimit();\n    const keyword = refs.input.value || null;\n    const category = refs.selectedCategory.value || null;\n    getServerProducts(1, keyword, category, limit).then(({ results, totalPages, page, perPage }) => {\n        if (totalPages === 0) {\n            const str =\n            `<li class=\"products-not-found\">\n                <h3 class=\"products-heading\">Nothing was found for the selected <span class=\"products-heading-accent\">filters...</span></h3>\n                <p class=\"products-text\">Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.</p>\n            </li>`;\n            refs.productCard.innerHTML = str;\n            refs.productCard.classList.add(\"product-list-not-found\");\n            // refs.selectBtn.textContent = \"Categories\";\n            refs.submitBtn.disabled = false;\n            refs.pagination.classList.add(\"filters-visually-hidden\");\n          showContent();\n            return\n        }\n        refs.productCard.classList.remove(\"product-list-not-found\");\n        refs.productCard.innerHTML = createMarkup(results);\n        checkIsItemInCart();\n      showContent();\n        save(\"filtersOfProducts\", { keyword, category, page: 1, limit });\n        createPagination(totalPages, page, perPage);\n        refs.submitBtn.disabled = false;\n    })\n}\n\nfunction showContent() {\n  document.querySelector('.js-products-container').classList.remove('hidden');\n}\n\n\n\nexport {\n    filterCategories,\n    filterProducts\n}\n","const scrollToTop = () => {\n  window.scrollTo(0, 0);\n};\n\nconst btnToUp = document.querySelector('.btn-up');\nbtnToUp.addEventListener('click', scrollToTop);\n\nwindow.onscroll = () => {\n  if (window.scrollY > 600) {\n    btnToUp.classList.remove('visually-hidden');\n    btnToUp.classList.remove('btn-up-hidden');\n  } else if (window.scrollY < 600) {\n    btnToUp.classList.add('visually-hidden');\n  }\n};\n\nexport { scrollToTop };","import {appendPopularProductsMarkup, appendDiscountProductsMarkup,} from './createMarkupMoreProducts.js';\n\n\nappendPopularProductsMarkup();\nappendDiscountProductsMarkup();\n\n\nimport { createProductsMarkup } from './createMarkup.js';\ncreateProductsMarkup(1, null, null);\n\n\nimport { filterCategories, filterProducts } from './filters.js';\nfilterCategories();\nfilterProducts();\nimport { onSubmit } from './subscribeEmail';\nimport {scrollToTop } from './scroll-up-btn'\nconst emailFInput = document.querySelector('.footer-submit-btn');\nemailFInput.addEventListener('click', onSubmit);\n\nscrollToTop()"],"names":["productCard","createProductsMarkup","event","card","btn","productId","toggleBtn","updateCardState","updateCartCounterOnLoad","checkIsItemInCart","openModal","error","storage","removeFromCart","addToCart","cartItems","itemsOnPage","item","itemId","id","createMarkup","arr","img","_id","name","price","size","category","popularity","icons","refs","appendPopularProductsMarkup","data","getServerProductsPopular","createPopularMarkup","results","appendDiscountProductsMarkup","getServerProductsDiscount","createDiscountMarkup","save","key","value","serializedState","load","createMarkupEllipsisOnce","amountOfPages","createMarkupEllipsisTwice","selectedPage","one","paginationPages","e","currentPage","keyword","limit","getLimit","getServerProducts","totalPages","page","perPage","markup","two","three","btnNumber","four","five","six","boundOne","boundTwo","boundThree","boundFour","boundFive","boundSix","createPagination","paginationMarkup","i","filterCategories","getServerProductsCategories","str","el","newEl","categoryForUser","categoryForUs","filterProducts","maxPage","showContent","onSubmit","scrollToTop","btnToUp","emailFInput"],"mappings":"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"}